const defaultSymbols=["*","#","@","&","%","$","!","+","=","•","○","◊","♦","♥","♠","♣"],hoverSymbols=["0","1","/","|","\\","<",">","^","v","~","-",":",";",".",",","`"],bgSymbols=[".","·","˙",":","°","`",",","'",'"',"_","-"],createASCIICircle=()=>{const e=document.getElementById("ascii-circle");e.innerHTML="";const t=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),o=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),n=Math.min(.8*Math.min(t,o),400),i=n/2,a=t<768?10:12,l=Math.floor(n/a),r=Math.floor(n/a);e.style.width=l*a+"px",e.style.height=r*a+"px";const s=document.createDocumentFragment(),c=[];for(let e=0;e<r;e++){c[e]=[];for(let t=0;t<l;t++){const o=t-l/2,n=e-r/2,s=Math.sqrt(o*o+n*n),d=Math.max(0,Math.min(1,2*(i/a*.85-s))),m=d>0;c[e][t]=m?d:0}}for(let e=0;e<r;e++)for(let t=0;t<l;t++){const o=document.createElement("div");if(c[e][t]>0){o.className="ascii-char";const n=Math.floor(Math.random()*defaultSymbols.length);o.textContent=defaultSymbols[n],o.style.opacity=c[e][t],o.dataset.x=t,o.dataset.y=e}else o.className="ascii-char",o.textContent=" ",o.style.pointerEvents="none";s.appendChild(o)}e.appendChild(s),window.circleMap=c,window.asciiCircleInfo={cols:l,rows:r,charSize:a,size:n},startSymbolFlickering()},startSymbolFlickering=()=>{const e=document.querySelectorAll(".ascii-char");let t=0;requestAnimationFrame((function o(n){if(n-t>100){t=n;const o=Math.ceil(.03*e.length),i=new Set;for(;i.size<o;){const t=Math.floor(Math.random()*e.length);i.add(t)}i.forEach((t=>{const o=e[t];if(o.style.opacity>0){const e=Math.floor(Math.random()*defaultSymbols.length);o.textContent=defaultSymbols[e];const t=Math.floor(200+55*Math.random());o.style.color=`rgb(${t}, 0, 0)`,setTimeout((()=>{o.style.color="red"}),300)}}))}requestAnimationFrame(o)}))},handleMouseMove=(()=>{let e=!1,t=0,o=0;return n=>{t=n.clientX,o=n.clientY,e||(window.requestAnimationFrame((()=>{updateCirclePosition(t,o),e=!1})),e=!0)}})(),updateCirclePosition=(e,t)=>{const o=document.getElementById("ascii-circle"),n=document.getElementById("main-container").getBoundingClientRect(),i=e-(n.left+n.width/2),a=t-(n.top+n.height/2),l=window.innerWidth<768?25:15,r=window.innerWidth<768?20:30,s=-i/l,c=-a/l,d=Math.max(-r,Math.min(r,s)),m=Math.max(-r,Math.min(r,c));o.style.transform=`translate(${d}px, ${m}px)`,updateSymbolsNearCursor(e,t,o)},updateSymbolsNearCursor=(()=>{let e=-100,t=-100;return(o,n,i)=>{if(!window.asciiCircleInfo)return;const a=i.getBoundingClientRect(),l=o-a.left,r=n-a.top,s=Math.floor(l/window.asciiCircleInfo.charSize),c=Math.floor(r/window.asciiCircleInfo.charSize);if(Math.abs(s-e)<2&&Math.abs(c-t)<2)return;e=s,t=c;const d=document.querySelectorAll(".ascii-char"),{cols:m,rows:h}=window.asciiCircleInfo,u=window.innerWidth<768?3:4;for(let e=Math.max(0,c-u);e<Math.min(h,c+u);e++)for(let t=Math.max(0,s-u);t<Math.min(m,s+u);t++){const o=d[e*m+t];if(!o||o.style.opacity<=0)continue;if(Math.sqrt(Math.pow(s-t,2)+Math.pow(c-e,2))<u){const e=Math.floor(Math.random()*hoverSymbols.length);o.textContent=hoverSymbols[e],o.style.color="#ff5555",o.style.transform="scale(1.2)"}else"scale(1.2)"===o.style.transform&&setTimeout((()=>{const e=Math.floor(Math.random()*defaultSymbols.length);o.textContent=defaultSymbols[e],o.style.color="red",o.style.transform="scale(1)"}),300*Math.random())}}})(),resetCirclePosition=()=>{document.getElementById("ascii-circle").style.transform="translate(0, 0)";document.querySelectorAll(".ascii-char").forEach((e=>{if("scale(1.2)"===e.style.transform){const t=Math.floor(Math.random()*defaultSymbols.length);e.textContent=defaultSymbols[t],e.style.color="red",e.style.transform="scale(1)"}}))},handleResize=()=>{window.resizeTimeout&&clearTimeout(window.resizeTimeout),window.resizeTimeout=setTimeout((()=>{createASCIICircle()}),250)};window.onload=()=>{createASCIICircle(),document.addEventListener("mousemove",handleMouseMove,{passive:!0}),document.addEventListener("mouseleave",resetCirclePosition),window.addEventListener("resize",handleResize),document.addEventListener("touchmove",(e=>{e.preventDefault(),e.touches&&e.touches[0]&&handleMouseMove({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}),{passive:!1}),document.addEventListener("touchend",resetCirclePosition)};